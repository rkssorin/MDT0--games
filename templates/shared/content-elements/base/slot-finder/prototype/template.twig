{% macro render(elementId = null, urlPartId = null) %}
	{% apply spaceless %}
	{% deprecated 'The usage of "element.render(...)" is deprecated, use "include ... with {...}" instead. For detailed information, visit: https://github.com/bsi-software/bsi-cx-design-master-template-web/blob/main/MIGRATION_GUIDE.md"' %}
	{% include './template.twig' %}
	{% endapply %}
{% endmacro %}

{% apply spaceless %}
  {% set slotFinderElementId = elementId ?: 'slot-finder-dZlvGH' %}
  {% set slotFinderUrlPartId = urlPartId ?: 'slot-finder-part-url-cDW6yK' %}
  {% set slotFinderChooseDateTextPartId = chooseDateTextPartId ?: 'slot-finder-part-plain-text-rBaSIU' %}
  {% set slotFinderChooseSlotTextPartId = chooseSlotTextPartId ?: 'slot-finder-part-plain-text-Zvagh6' %}
  {% set slotFinderBookSlotTextPartId = bookSlotTextPartId ?: 'slot-finder-part-plain-text-8xP6D8' %}
  {% set slotFinderBookSlotButtonTextPartId = bookSlotButtonTextPartId ?: 'slot-finder-part-plain-text-85mYbP' %}
  {% set slotFinderNoSlotsTextPartId = noSlotsTextPartId ?: 'slot-finder-part-plain-text-ZvwVaT' %}
  {% set slotFinderChooseAnotherDayTextPartId = chooseAnotherDayTextPartId ?: 'slot-finder-part-plain-text-Uysf70' %}
  {% set slotFinderChooseDateText = (chooseDateText ?: properties.slotFinderChooseDateText) ?: 'Datum wählen' %} {# TODO: make translatable #}
  {% set slotFinderChooseSlotText = (chooseSlotText ?: properties.slotFinderChooseSlotText) ?: 'Termin wählen' %} {# TODO: make translatable #}
  {% set slotFinderBookSlotText = (bookSlotText ?: properties.slotFinderBookSlotText) ?: 'Termin überprüfen' %} {# TODO: make translatable #}
  {% set slotFinderBookSlotButtonText = (bookSlotButtonText ?: properties.slotFinderBookSlotButtonText) ?: 'Termin buchen' %} {# TODO: make translatable #}
  {% set slotFinderNoSlotsText = (noSlotsText ?: properties.slotFinderNoSlotsText) ?: 'Keine Termine verfügbar' %} {# TODO: make translatable #}
  {% set slotFinderChooseAnotherDayText = (chooseAnotherDayText ?: properties.slotFinderChooseAnotherDayText) ?: 'Bitte anderen Tag wählen' %} {# TODO: make translatable #}

  {% if cx.version.TARGET >= cx.version.CX_23_2 %}

    <div x-data="slotFinder" data-bsi-element="{{ slotFinderElementId }}" data-bsi-element-part="{{ slotFinderUrlPartId }}" data-bsi-url-provider="Calendar" class="{{ 'bsi-element-' ~ slotFinderElementId }} slot-finder day-view default-slots default-flow">
      <fieldset>
        <legend class="bi bi-calendar2-week" data-bsi-element-part="{{ slotFinderChooseDateTextPartId }}">{{ slotFinderChooseDateText }}</legend>
        <div x-init="initCalendar" class="calendar">
          <div class="flatpickr-calendar animate inline" tabindex="-1"><div class="flatpickr-months"><span class="flatpickr-prev-month"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z"></path></svg></span><div class="flatpickr-month"><div class="flatpickr-current-month"><select class="flatpickr-monthDropdown-months" aria-label="Month" tabindex="-1"><option class="flatpickr-monthDropdown-month" value="0" tabindex="-1">Januar</option><option class="flatpickr-monthDropdown-month" value="1" tabindex="-1">Februar</option><option class="flatpickr-monthDropdown-month" value="2" tabindex="-1">März</option><option class="flatpickr-monthDropdown-month" value="3" tabindex="-1">April</option><option class="flatpickr-monthDropdown-month" value="4" tabindex="-1">Mai</option><option class="flatpickr-monthDropdown-month" value="5" tabindex="-1">Juni</option><option class="flatpickr-monthDropdown-month" value="6" tabindex="-1">Juli</option><option class="flatpickr-monthDropdown-month" value="7" tabindex="-1">August</option><option class="flatpickr-monthDropdown-month" value="8" tabindex="-1">September</option><option class="flatpickr-monthDropdown-month" value="9" tabindex="-1">Oktober</option><option class="flatpickr-monthDropdown-month" value="10" tabindex="-1">November</option><option class="flatpickr-monthDropdown-month" value="11" tabindex="-1">Dezember</option></select><div class="numInputWrapper"><input class="numInput cur-year" type="number" tabindex="-1" aria-label="Year" min="2023"><span class="arrowUp"></span><span class="arrowDown"></span></div></div></div><span class="flatpickr-next-month"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z"></path></svg></span></div><div class="flatpickr-innerContainer"><div class="flatpickr-rContainer"><div class="flatpickr-weekdays"><div class="flatpickr-weekdaycontainer"><span class="flatpickr-weekday">Mo</span><span class="flatpickr-weekday">Di</span><span class="flatpickr-weekday">Mi</span><span class="flatpickr-weekday">Do</span><span class="flatpickr-weekday">Fr</span><span class="flatpickr-weekday">Sa</span><span class="flatpickr-weekday">So</span></div></div><div class="flatpickr-days" tabindex="-1"><div class="dayContainer"><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 1, 2024">1</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 2, 2024">2</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 3, 2024">3</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 4, 2024">4</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 5, 2024">5</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 6, 2024">6</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 7, 2024">7</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 8, 2024">8</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 9, 2024">9</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 10, 2024">10</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 11, 2024">11</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 12, 2024">12</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 13, 2024">13</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 14, 2024">14</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 15, 2024">15</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 16, 2024">16</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 17, 2024">17</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 18, 2024">18</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 19, 2024">19</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 20, 2024">20</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 21, 2024">21</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 22, 2024">22</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 23, 2024">23</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 24, 2024">24</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 25, 2024">25</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 26, 2024">26</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 27, 2024">27</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 28, 2024">28</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 29, 2024">29</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 30, 2024">30</span><span class="flatpickr-day flatpickr-disabled" aria-label="Januar 31, 2024">31</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 1, 2024">1</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 2, 2024">2</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 3, 2024">3</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 4, 2024">4</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 5, 2024">5</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 6, 2024">6</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 7, 2024">7</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 8, 2024">8</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 9, 2024">9</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 10, 2024">10</span><span class="flatpickr-day nextMonthDay flatpickr-disabled" aria-label="Februar 11, 2024">11</span></div></div></div></div></div>
        </div>
      </fieldset>
      <fieldset class="slot-view">
        <legend class="bi bi-clock" data-bsi-element-part="{{ slotFinderChooseSlotTextPartId }}">{{ slotFinderChooseSlotText }}</legend>
        <div x-init="initWeekView" class="slots-week"></div>
        <div x-init="initDayView" class="slots-day"></div>
      </fieldset>
      <fieldset>
        <legend class="bi bi-calendar2-check" data-bsi-element-part="{{ slotFinderBookSlotTextPartId }}">{{ slotFinderBookSlotText }}</legend>
        <div x-init="initSummary" class="slot-picker-summary"></div>
        <div class="bsi-element-button-new-v3cFFn bsi-btn-element bsi-btn-color-primary bsi-btn-filled bsi-btn-letter-default bsi-btn-icon-hide bsi-btn-size-md bsi-btn-width-wide bsi-corner-sharp">
          <button x-ref="bookButton" class="btn" disabled data-bsi-element-part="{{ slotFinderBookSlotButtonTextPartId }}">{{ slotFinderBookSlotButtonText }}</button>
        </div>
      </fieldset>
      <div x-ref="noSlotsText" class="d-none"><div class="no-slots" data-bsi-element-part="{{ slotFinderNoSlotsTextPartId }}">{{ slotFinderNoSlotsText }}</div></div>
      <div x-ref="chooseAnotherDayText" class="d-none"><div class="no-slots" data-bsi-element-part="{{ slotFinderChooseAnotherDayTextPartId }}">{{ slotFinderChooseAnotherDayText }}</div></div>
    </div>

  {% endif %}
{% endapply %}
